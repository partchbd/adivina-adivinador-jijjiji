<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>🌟 Divina Adivinador 🌟</title>

<!-- Fuente bonita -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body {
  font-family: 'Poppins', sans-serif;
  margin: 0;
  text-align: center;
  background: url('ghh.jpeg') no-repeat center center fixed;
  background-size: cover;
  color: #fff;
  text-shadow: 1px 1px 5px rgba(0,0,0,0.8);
}

.hidden { display: none; }

.card {
  background: rgba(0, 0, 0, 0.6);
  padding: 20px;
  border-radius: 15px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.4);
  margin: 20px auto;
  max-width: 400px;
}

/* Pantalla de inicio */
#start-screen {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

#start-screen h1 {
  font-size: 3em;
  font-weight: 800;
  margin-bottom: 20px;
}

#start-screen p {
  font-size: 1.4em;
  margin-bottom: 20px;
}

button {
  padding: 10px 20px;
  font-size: 1.1em;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  margin: 6px;
  font-weight: 600;
  transition: transform 0.3s, background 0.3s;
}

button:hover {
  transform: scale(1.05);
}

#start-btn { background: #4f46e5; color: white; }
#add-btn { background: #f59e0b; color: white; }
#save-btn { background: #22c55e; color: white; }
#back-btn, #back-game-btn { background: #ef4444; color: white; }
#hint-btn { background: #f59e0b; color: white; }
#next-btn { background: #4f46e5; color: white; }

.correct { background: #22c55e !important; }
.wrong { background: #ef4444 !important; }

.hint {
  background: rgba(255, 255, 255, 0.9);
  color: #333;
  border-left: 4px solid #f59e0b;
  padding: 6px;
  margin: 5px;
  border-radius: 8px;
  display: inline-block;
}

input {
  padding: 8px;
  width: 90%;
  margin: 5px;
  border-radius: 6px;
  border: 1px solid #ccc;
}
</style>
</head>
<body>

<div id="start-screen">
  <h1>🌟 Divina Adivinador 🌟</h1>
  <p>Prueba tus acertijos 🧠💫</p>
  <button id="start-btn">¡Comenzar!</button>
  <button id="add-btn">Agregar Acertijo</button>
</div>

<div id="add-screen" class="card hidden">
  <h2>Agregar nuevo acertijo</h2>
  <input id="new-q" placeholder="Pregunta" />
  <input id="new-a" placeholder="Respuesta correcta" />
  <input id="new-w1" placeholder="Respuesta incorrecta 1" />
  <input id="new-w2" placeholder="Respuesta incorrecta 2" />
  <input id="new-hint" placeholder="Pista (opcional)" />
  <button id="save-btn">Guardar</button>
  <button id="back-btn">Volver</button>
</div>

<div id="game-screen" class="card hidden">
  <div id="progress"></div>
  <div id="question" style="font-weight:bold;color:#c7d2fe;"></div>
  <div id="choices"></div>
  <p id="message"></p>
  <p id="hint" class="hint hidden"></p>
  <p>Puntaje: <span id="score">0</span> | Vidas: <span id="lives">💖💖💖</span></p>
  <button id="hint-btn">Mostrar pista</button>
  <button id="next-btn" disabled>Siguiente</button>
  <button id="back-game-btn">Volver al inicio</button>
</div>

<script>
let puzzles = [
  {q:'6+3=?', c:['8','9','10'], a:'9', hint:'Piensa en tus dedos'},
  {q:'Vuelo sin alas, lloro sin ojos. ¿Qué soy?', c:['nube','sol','lluvia'], a:'nube', hint:'Está en el cielo'},
  {q:'2,4,8,16...?', c:['24','32','30'], a:'32', hint:'Se duplica cada vez'},
  {q:'Blanca por dentro, verde por fuera. Si quieres que te lo diga, espera.', c:['pera','manzana','plátano'], a:'pera', hint:'Es una fruta'},
  {q:'Tiene agujas pero no pincha. ¿Qué es?', c:['reloj','erizo','pino'], a:'reloj', hint:'Mide el tiempo'},
  {q:'Cuanto más quitas, más grande se vuelve. ¿Qué es?', c:['hoyo','caja','montaña'], a:'hoyo', hint:'Piensa en cavar'},
  {q:'Tiene llaves pero no abre puertas. ¿Qué es?', c:['piano','candado','mapa'], a:'piano', hint:'Se toca con las manos'},
  {q:'Cuanto más lavo, más sucio se vuelve. ¿Qué es?', c:['agua','jabón','trapo'], a:'trapo', hint:'Se ensucia mientras limpia'},
  {q:'Vuelo de noche, duermo en el día y cazo insectos. ¿Qué soy?', c:['murciélago','búho','lechuza'], a:'murciélago', hint:'Es nocturno'}
];

let index=0, score=0, lives=3;

const startBtn=document.getElementById('start-btn');
const addBtn=document.getElementById('add-btn');
const saveBtn=document.getElementById('save-btn');
const backBtn=document.getElementById('back-btn');
const backGameBtn=document.getElementById('back-game-btn');
const nextBtn=document.getElementById('next-btn');
const hintBtn=document.getElementById('hint-btn');

startBtn.onclick=()=>{showScreen('game'); startGame();};
addBtn.onclick=()=>{showScreen('add');};
backBtn.onclick=()=>{showScreen('start');};
backGameBtn.onclick=()=>{showScreen('start');};

saveBtn.onclick=()=>{
  const q=document.getElementById('new-q').value.trim();
  const a=document.getElementById('new-a').value.trim();
  const w1=document.getElementById('new-w1').value.trim();
  const w2=document.getElementById('new-w2').value.trim();
  const h=document.getElementById('new-hint').value.trim();
  if(q && a && w1 && w2){
    let choices=[a,w1,w2];
    choices.sort(()=>Math.random()-0.5);
    puzzles.push({q:q,c:choices,a:a,hint:h});
    alert('Acertijo guardado');
    document.querySelectorAll('#add-screen input').forEach(i=>i.value='');
    showScreen('start');
  } else alert('Completa todos los campos');
};

function showScreen(scr){
  document.querySelectorAll('#start-screen,#add-screen,#game-screen').forEach(s=>s.classList.add('hidden'));
  document.getElementById(scr+'-screen').classList.remove('hidden');
}

function startGame(){
  score=0; lives=3; index=0;
  puzzles.sort(()=>Math.random()-0.5);
  updateStats();
  showQ();
}

function showQ(){
  const q=puzzles[index];
  document.getElementById('message').textContent='';
  document.getElementById('hint').classList.add('hidden');
  document.getElementById('hint').textContent='';
  document.getElementById('question').textContent=q.q;
  document.getElementById('progress').textContent = `Pregunta ${index+1} de ${puzzles.length}`;
  nextBtn.disabled=true;

  const cDiv=document.getElementById('choices');
  cDiv.innerHTML='';
  q.c.forEach(ch=>{
    const b=document.createElement('button');
    b.textContent=ch;
    b.onclick=()=>check(ch,b);
    cDiv.appendChild(b);
  });
}

function check(ans, btn){
  const q=puzzles[index];
  const msg=document.getElementById('message');
  const buttons=document.querySelectorAll('#choices button');
  buttons.forEach(b=>b.disabled=true);

  if(ans.toLowerCase()==q.a.toLowerCase()){
    score+=10;
    msg.textContent='✅ Correcto!';
    msg.className='correct';
    btn.classList.add('correct');
    confetti();
  } else {
    lives--;
    msg.textContent='❌ Incorrecto';
    msg.className='wrong';
    btn.classList.add('wrong');
  }

  updateStats();

  if(lives<=0){ 
    alert('¡Has perdido todas tus vidas! Puntaje: '+score); 
    showScreen('start'); 
    return; 
  }

  nextBtn.disabled=false;
}

nextBtn.onclick=()=>{
  index++;
  if(index>=puzzles.length){
    alert('¡Juego terminado! Puntaje: '+score);
    showScreen('start');
  } else showQ();
};

hintBtn.onclick=()=>{
  const q=puzzles[index];
  if(q.hint){
    document.getElementById('hint').textContent='💡 Pista: '+q.hint;
    document.getElementById('hint').classList.remove('hidden');
  }
};

function updateStats(){
  document.getElementById('score').textContent=score;
  document.getElementById('lives').textContent='💖'.repeat(lives);
}

function confetti(){
  const c=document.createElement('div');
  c.textContent='🎉';
  c.style.position='absolute';
  c.style.top=Math.random()*80+'%';
  c.style.left=Math.random()*80+'%';
  c.style.fontSize='24px';
  document.body.appendChild(c);
  setTimeout(()=>c.remove(),1000);
}

showScreen('start');
</script>

</body>
</html>

