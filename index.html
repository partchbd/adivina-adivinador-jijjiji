<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Divina Adivinador</title>

<!-- Fuente de Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body {
  font-family: 'Poppins', sans-serif;
  text-align: center;
  background: #345494; /* color neutro para todas las pantallas */
  color: #333;
}


.card {
  background: rgba(255, 255, 255, 0.85); /* fondo semi-transparente */
  padding: 20px;
  border-radius: 15px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.2);
  margin: 20px auto;
  max-width: 400px;
}


/* Fondo exclusivo para la pantalla de inicio */
#start-screen {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  background: url('ghh.jpeg') no-repeat center center;
  background-size: cover;
  color: white;
  text-shadow: 2px 2px 6px rgba(0,0,0,0.7);
  padding: 20px;
  box-sizing: border-box;
}

#start-screen .logo {
  font-size: 3em;
  font-weight: 800;
  margin-bottom: 20px;
  text-shadow: 3px 3px 8px rgba(0,0,0,0.7);
}

#start-screen p {
  font-size: 1.5em;
  margin-bottom: 30px;
  text-shadow: 2px 2px 5px rgba(0,0,0,0.7);
}

#start-screen button {
  padding: 15px 30px;
  font-size: 1.2em;
  margin: 10px;
  border: none;
  border-radius: 15px;
  cursor: pointer;
  font-weight: 600;
  transition: transform 0.3s, box-shadow 0.3s;
}

#start-screen button:hover {
  transform: scale(1.1);
  box-shadow: 0 6px 18px rgba(0,0,0,0.4);
}

#start-btn {
  background: #4f46e5;
  color: white;
}

#add-btn {
  background: #f59e0b;
  color: white;
}


h1.logo {
  font-weight: 700;
  font-size: 2.2em;
  color: #4f46e5;
  margin-bottom: 10px;
  text-shadow: 2px 2px 5px rgba(0,0,0,0.3);
}

button {
  padding: 10px 20px;
  font-size: 18px;
  margin: 5px;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  transition: transform 0.2s, box-shadow 0.2s;
}
button:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
}

.correct { background:#22c55e; color:white; }
.wrong { background:#ef4444; color:white; }

.hint {
  background:#fff7ed; border-left:4px solid #f59e0b;
  padding:5px; margin:5px; border-radius:6px; display:inline-block;
}

input { padding:8px; width:90%; margin:5px; border-radius:6px; border:1px solid #ccc; }
button:disabled { opacity:0.5; cursor:not-allowed; }

.hidden { display:none; }
</style>
</head>
<body>

<!-- Pantalla de inicio -->
<div id="start-screen" class="card">
  <h1 class="logo">üåü Divina Adivinador üåü</h1>
  <p style="color:#f59e0b;">Prueba tus acertijos üß†</p>
  <button id="start-btn" style="background:#4f46e5;color:white;">¬°Comenzar!</button>
  <button id="add-btn" style="background:#f59e0b;color:white;">Agregar Acertijo</button>
</div>

<!-- Pantalla de agregar acertijo -->
<div id="add-screen" class="card hidden">
  <h2 style="color:#4f46e5;">Agregar nuevo acertijo</h2>
  <input id="new-q" placeholder="Pregunta" />
  <input id="new-a" placeholder="Respuesta correcta" />
  <input id="new-w1" placeholder="Respuesta incorrecta 1" />
  <input id="new-w2" placeholder="Respuesta incorrecta 2" />
  <input id="new-hint" placeholder="Pista (opcional)" />
  <button id="save-btn" style="background:#22c55e;color:white;">Guardar</button>
  <button id="back-btn" style="background:#ef4444;color:white;">Volver</button>
</div>

<!-- Pantalla de juego -->
<div id="game-screen" class="card hidden">
  <div id="progress"></div>
  <div id="question" style="font-weight:bold;color:#4f46e5;"></div>
  <div id="choices"></div>
  <p id="message"></p>
  <p id="hint" class="hint hidden"></p>
  <p>Puntaje: <span id="score">0</span> | Vidas: <span id="lives">üíñüíñüíñ</span></p>
  <button id="hint-btn" style="background:#f59e0b;color:white;">Mostrar pista</button>
  <button id="next-btn" disabled style="background:#4f46e5;color:white;">Siguiente</button>
  <button id="back-game-btn" style="background:#ef4444;color:white;">Volver al inicio</button>
</div>

<script>
let puzzles=[
  {q:'6+3=?',c:['8','9','10'],a:'9',hint:'Piensa en tus dedos'},
  {q:'Vuelo sin alas, lloro sin ojos. ¬øQu√© soy?',c:['nube','sol','lluvia'],a:'nube',hint:'Est√° en el cielo'},
  {q:'2,4,8,16...?',c:['24','32','30'],a:'32',hint:'Se duplica cada vez'},
  {q:'Blanca por dentro, verde por fuera. Si quieres que te lo diga, espera.',c:['pera','manzana','pl√°tano'],a:'pera',hint:'Es una fruta'},
  {q:'Si cinco m√°quinas hacen cinco objetos en cinco minutos, ¬øcu√°nto tiempo hace una m√°quina un objeto?',c:['1 minuto','5 minutos','10 minutos'],a:'5 minutos',hint:'Piensa en la proporci√≥n'},
  {q:'Tiene agujas pero no pincha. ¬øQu√© es?',c:['reloj','erizo','pino'],a:'reloj',hint:'Mide el tiempo'},
  {q:'Cuanto m√°s quitas, m√°s grande se vuelve. ¬øQu√© es?',c:['hoyo','caja','monta√±a'],a:'hoyo',hint:'Piensa en cavar'},
  {q:'No es vivo, pero crece; no tiene boca, pero necesita agua. ¬øQu√© es?',c:['planta','fuego','nube'],a:'fuego',hint:'Consume ox√≠geno'},
  {q:'Tiene llaves pero no abre puertas. ¬øQu√© es?',c:['piano','candado','mapa'],a:'piano',hint:'Se toca con las manos'},
  {q:'Cuanto m√°s lavo, m√°s sucio se vuelve. ¬øQu√© es?',c:['agua','jab√≥n','trapo'],a:'trapo',hint:'Se ensucia mientras limpia'},
  {q:'Vuelo de noche, duermo en el d√≠a y cazo insectos. ¬øQu√© soy?',c:['murci√©lago','b√∫ho','lechuza'],a:'murci√©lago',hint:'Es nocturno'}
];

let index=0, score=0, lives=3;

const startBtn=document.getElementById('start-btn');
const addBtn=document.getElementById('add-btn');
const saveBtn=document.getElementById('save-btn');
const backBtn=document.getElementById('back-btn');
const backGameBtn=document.getElementById('back-game-btn');
const nextBtn=document.getElementById('next-btn');

startBtn.onclick=()=>{ showScreen('game'); startGame(); };
addBtn.onclick=()=>{ showScreen('add'); };
backBtn.onclick=()=>{ showScreen('start'); };
backGameBtn.onclick=()=>{ showScreen('start'); };

saveBtn.onclick=()=>{
  const q=document.getElementById('new-q').value.trim();
  const a=document.getElementById('new-a').value.trim();
  const w1=document.getElementById('new-w1').value.trim();
  const w2=document.getElementById('new-w2').value.trim();
  const h=document.getElementById('new-hint').value.trim();
  if(q && a && w1 && w2){
    let choices=[a,w1,w2];
    choices.sort(()=>Math.random()-0.5);
    puzzles.push({q:q,c:choices,a:a,hint:h});
    alert('Acertijo guardado');
    document.getElementById('new-q').value='';
    document.getElementById('new-a').value='';
    document.getElementById('new-w1').value='';
    document.getElementById('new-w2').value='';
    document.getElementById('new-hint').value='';
    showScreen('start');
  } else alert('Completa todos los campos');
};

function showScreen(scr){
  document.getElementById('start-screen').classList.add('hidden');
  document.getElementById('add-screen').classList.add('hidden');
  document.getElementById('game-screen').classList.add('hidden');
  if(scr==='start') document.getElementById('start-screen').classList.remove('hidden');
  else if(scr==='add') document.getElementById('add-screen').classList.remove('hidden');
  else if(scr==='game') document.getElementById('game-screen').classList.remove('hidden');
}

function startGame(){
  score=0; lives=3; index=0; 
  updateStats(); 
  showQ();
}

function showQ(){
  const q=puzzles[index]; 
  document.getElementById('message').textContent=''; 
  document.getElementById('hint').classList.add('hidden'); 
  document.getElementById('question').textContent=q.q;

  const cDiv=document.getElementById('choices'); 
  cDiv.innerHTML=''; 
  nextBtn.disabled=true;

  document.getElementById('hint-btn').style.display = q.hint ? 'inline-block' : 'none';

  if(q.c.length>0){
    q.c.forEach(ch=>{
      const b=document.createElement('button');
      b.textContent=ch;
      b.onclick=()=>check(ch);
      cDiv.appendChild(b);
    });
  } else {
    const i=document.createElement('input'); 
    i.id='answer'; 
    i.placeholder='Respuesta'; 
    i.onkeydown=e=>{ if(e.key==='Enter') check(i.value); }; 
    cDiv.appendChild(i);
  }

  document.getElementById('progress').textContent = `Pregunta ${index+1} de ${puzzles.length}`;
}

function check(ans){
  const q = puzzles[index]; 
  const correct = (ans.toLowerCase() == q.a.toLowerCase()); 
  const msg = document.getElementById('message'); 

  if(correct){
    score += 10; 
    msg.textContent = '‚úÖ Correcto!';
    msg.className = 'correct';
    confetti();
  } else {
    lives--; 
    msg.textContent = '‚ùå Incorrecto';
    msg.className = 'wrong';
    if(lives <= 0){
      alert('¬°Has perdido todas tus vidas! Puntaje: ' + score);
      showScreen('start');
      return;
    }
  }
  updateStats(); 
  nextBtn.disabled = false;
}

document.getElementById('next-btn').onclick=()=>{
  index++; 
  if(index>=puzzles.length){
    alert('¬°Juego terminado! Puntaje: ' + score);
    showScreen('start');
  } else showQ();
};

document.getElementById('hint-btn').onclick=()=>{
  document.getElementById('hint').textContent='üí° Pista: ' + puzzles[index].hint; 
  document.getElementById('hint').classList.remove('hidden');
}

function updateStats(){
  document.getElementById('score').textContent = score; 

  let hearts = '';
  for(let i=0;i<lives;i++){ hearts += 'üíñ'; }
  document.getElementById('lives').textContent = hearts;
}

function confetti(){
  const c=document.createElement('div');
  c.textContent='üéâ';
  c.style.position='absolute';
  c.style.top=Math.random()*80+'%';
  c.style.left=Math.random()*80+'%';
  c.style.fontSize='24px';
  document.body.appendChild(c);
  setTimeout(()=>c.remove(),1000);
}
</script>
</body>
</html>
